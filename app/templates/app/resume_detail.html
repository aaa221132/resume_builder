{% extends 'app/base.html' %}
{% block content %}

<a href="{% url 'resume_list' %}" class="btn btn-secondary mb-4">
    ‚Üê –ù–∞–∑–∞–¥ –¥–æ —Å–ø–∏—Å–∫—É
</a>

<div class="card p-4 shadow">

    <h4 class="fw-bold mb-1">
        –ù–∞–∑–≤–∞ —Ä–µ–∑—é–º–µ
    </h4>
    <p class="text-muted small mb-3">
        –í–∫–∞–∂—ñ—Ç—å —ñ–º º—è —Ç–∞ –ø–æ—Å–∞–¥—É, –ø—ñ–¥ —è–∫–æ—é –≤–∏ —Ö–æ—á–µ—Ç–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–∏ —Å–µ–±–µ —Ä–æ–±–æ—Ç–æ–¥–∞–≤—Ü—é
    </p>

    <form method="post">
        {% csrf_token %}

        <label class="form-label fw-semibold">–ü–Ü–ë</label>
        <input class="form-control mb-3"
               name="full_name"
               placeholder="–ù–∞–ø—Ä–∏–∫–ª–∞–¥: –Ü–≤–∞–Ω –ü–µ—Ç—Ä–µ–Ω–∫–æ"
               value="{{ resume.full_name }}">

        <label class="form-label fw-semibold">–ë–∞–∂–∞–Ω–∞ –ø–æ—Å–∞–¥–∞</label>
        <input class="form-control mb-3"
               name="profession"
               placeholder="–ù–∞–ø—Ä–∏–∫–ª–∞–¥: Frontend-—Ä–æ–∑—Ä–æ–±–Ω–∏–∫"
               value="{{ resume.profession }}">

        <label class="form-label fw-semibold">–ö–æ—Ä–æ—Ç–∫–æ –ø—Ä–æ —Å–µ–±–µ</label>
        <textarea class="form-control mb-4"
                  name="summary"
                  rows="4"
                  placeholder="–ö—ñ–ª—å–∫–∞ —Ä–µ—á–µ–Ω—å –ø—Ä–æ –≤–∞—à –¥–æ—Å–≤—ñ–¥, —Å–∏–ª—å–Ω—ñ —Å—Ç–æ—Ä–æ–Ω–∏ —Ç–∞ –∫–∞—Ä º—î—Ä–Ω—ñ —Ü—ñ–ª—ñ">{{ resume.summary }}</textarea>

        <button class="btn btn-success mb-4">
            üíæ –ó–±–µ—Ä–µ–≥—Ç–∏ –æ—Å–Ω–æ–≤–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é
        </button>
    </form>

    <hr>

    <h5 class="fw-semibold mt-3">
        –ù–∞–≤–∏—á–∫–∏
    </h5>
    <p class="text-muted small mb-2">
        –î–æ–¥–∞–π—Ç–µ –∫–ª—é—á–æ–≤—ñ –Ω–∞–≤–∏—á–∫–∏, —è–∫—ñ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏–∑—É—é—Ç—å –≤–∞—Å —è–∫ —Å–ø–µ—Ü—ñ–∞–ª—ñ—Å—Ç–∞
    </p>

    <ul class="list-group mb-3">
        {% for skill in resume.skills.all %}
            <li class="list-group-item d-flex justify-content-between align-items-center">
                {{ skill.name }}
                <a href="{% url 'delete_skill' skill.id %}" class="btn btn-sm btn-outline-danger">‚úï</a>
            </li>
        {% empty %}
            <li class="list-group-item text-muted">–ù–∞–≤–∏—á–∫–∏ —â–µ –Ω–µ –¥–æ–¥–∞–Ω—ñ</li>
        {% endfor %}
    </ul>

    <form method="post" action="{% url 'add_skill' resume.id %}" class="d-flex gap-2 mb-4">
        {% csrf_token %}
        <input class="form-control"
               name="name"
               placeholder="–ù–∞–ø—Ä–∏–∫–ª–∞–¥: Python, Django, SQL">
        <button class="btn btn-outline-success">
            ‚ûï –î–æ–¥–∞—Ç–∏
        </button>
    </form>

    <hr>

    <h5 class="fw-semibold mt-3">
        –î–æ—Å–≤—ñ–¥ —Ä–æ–±–æ—Ç–∏
    </h5>
    <p class="text-muted small mb-3">
        –í–∫–∞–∂—ñ—Ç—å –º—ñ—Å—Ü—è —Ä–æ–±–æ—Ç–∏, –ø–æ—Å–∞–¥–∏ —Ç–∞ –ø–µ—Ä—ñ–æ–¥ –∑–∞–π–Ω—è—Ç–æ—Å—Ç—ñ
    </p>

    {% for exp in resume.experiences.all %}
        <div class="border rounded p-3 mb-2">
            <strong>{{ exp.company }}</strong> ‚Äî {{ exp.position }}<br>
            <small class="text-muted">
                {{ exp.start_date }} ‚Äì {{ exp.end_date|default:"–¥–æ—Ç–µ–ø–µ—Ä" }}
            </small>
            <div class="mt-1">
                {{ exp.description }}
            </div>
        </div>
    {% empty %}
        <p class="text-muted">–î–æ—Å–≤—ñ–¥ —Ä–æ–±–æ—Ç–∏ —â–µ –Ω–µ –¥–æ–¥–∞–Ω–æ</p>
    {% endfor %}

    <form method="post" action="{% url 'add_experience' resume.id %}" class="mb-4">
        {% csrf_token %}

        <input class="form-control mb-2"
               name="company"
               placeholder="–ö–æ–º–ø–∞–Ω—ñ—è (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: Google)">

        <input class="form-control mb-2"
               name="position"
               placeholder="–ü–æ—Å–∞–¥–∞ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥: Software Engineer)">

        <label class="small text-muted">–ü–µ—Ä—ñ–æ–¥ —Ä–æ–±–æ—Ç–∏</label>
        <div class="d-flex gap-2 mb-2">
            <input class="form-control" type="date" name="start_date">
            <input class="form-control" type="date" name="end_date">
        </div>

        <textarea class="form-control mb-2"
                  name="description"
                  placeholder="–ö–æ—Ä–æ—Ç–∫–æ –æ–ø–∏—à—ñ—Ç—å –≤–∞—à—ñ –æ–±–æ–≤ º—è–∑–∫–∏ —Ç–∞ –¥–æ—Å—è–≥–Ω–µ–Ω–Ω—è"></textarea>

        <button class="btn btn-outline-success">
            ‚ûï –î–æ–¥–∞—Ç–∏ –¥–æ—Å–≤—ñ–¥
        </button>
    </form>

    <hr>

    <h5 class="fw-semibold mt-3">
        –û—Å–≤—ñ—Ç–∞
    </h5>
    <p class="text-muted small mb-3">
        –ù–∞–≤—á–∞–ª—å–Ω—ñ –∑–∞–∫–ª–∞–¥–∏, —Å–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ—Å—Ç—å —Ç–∞ —Ä–æ–∫–∏ –Ω–∞–≤—á–∞–Ω–Ω—è
    </p>

    {% for edu in resume.education.all %}
        <div class="border rounded p-3 mb-2">
            <strong>{{ edu.institution }}</strong> ‚Äî {{ edu.degree }}<br>
            <small class="text-muted">
                {{ edu.start_year }} ‚Äì {{ edu.end_year|default:"–¥–æ—Ç–µ–ø–µ—Ä" }}
            </small>
        </div>
    {% empty %}
        <p class="text-muted">–û—Å–≤—ñ—Ç–∞ —â–µ –Ω–µ –¥–æ–¥–∞–Ω–∞</p>
    {% endfor %}

    <form method="post" action="{% url 'add_education' resume.id %}">
        {% csrf_token %}

        <input class="form-control mb-2"
               name="institution"
               placeholder="–ù–∞–≤—á–∞–ª—å–Ω–∏–π –∑–∞–∫–ª–∞–¥">

        <input class="form-control mb-2"
               name="degree"
               placeholder="–°–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ—Å—Ç—å –∞–±–æ —Å—Ç—É–ø—ñ–Ω—å">

        <div class="d-flex gap-2 mb-3">
            <input class="form-control"
                   name="start_year"
                   placeholder="–†—ñ–∫ –ø–æ—á–∞—Ç–∫—É">
            <input class="form-control"
                   name="end_year"
                   placeholder="–†—ñ–∫ –∑–∞–∫—ñ–Ω—á–µ–Ω–Ω—è (–∞–±–æ –ø–æ—Ä–æ–∂–Ω—å–æ)">
        </div>

        <button class="btn btn-outline-success">
            ‚ûï –î–æ–¥–∞—Ç–∏ –æ—Å–≤—ñ—Ç—É
        </button>
    </form>

</div>

{% endblock %}
