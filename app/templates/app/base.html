<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <title>Resume Builder</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body.light {
            background-color: #f6f7f9;
            color: #212529;
        }

        body.dark {
            background-color: #1e1f22;
            color: #e4e6eb;
        }

        .theme-wrapper.light {
            background-color: #f6f7f9;
            color: #212529;
        }

        .theme-wrapper.dark {
            background-color: #1e1f22;
            color: #e4e6eb;
        }

        .theme-wrapper.dark .card {
            background-color: #2b2d31;
            color: #e4e6eb;
        }

        .theme-wrapper.dark .text-muted {
            color: #a1a1aa !important;
        }

        .theme-wrapper.dark .form-control,
        .theme-wrapper.dark .form-select {
            background-color: #2b2d31;
            color: #e4e6eb;
            border-color: #444;
        }

        .theme-wrapper.dark .form-control::placeholder {
            color: #a1a1aa;
        }

        .theme-wrapper.dark .btn-outline-secondary {
            border-color: #555;
            color: #ddd;
        }
    </style>
</head>

<body class="light">

<nav class="navbar navbar-dark bg-dark">
    <div class="container d-flex justify-content-between align-items-center">
        <span class="navbar-brand">Resume Builder</span>

        <div class="d-flex align-items-center gap-2">

            {% if user.is_authenticated %}
                <span class="text-light small">
                    üë§ {{ user.username }}
                </span>
                <a href="{% url 'logout' %}" class="btn btn-sm btn-outline-light">
                    –í–∏–π—Ç–∏
                </a>

            {% elif request.resolver_match.url_name != 'home' %}
                <a href="{% url 'login' %}" class="btn btn-sm btn-outline-light">
                    –£–≤—ñ–π—Ç–∏
                </a>
                <a href="{% url 'register' %}" class="btn btn-sm btn-light">
                    –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è
                </a>
            {% endif %}

            <button id="themeToggle" class="btn btn-sm btn-outline-light">
                üåô
            </button>
        </div>
    </div>
</nav>



<div id="themeWrapper" class="theme-wrapper light">
    <div class="container py-4 mb-5">
        {% block content %}{% endblock %}
    </div>
</div>

<script>
    const wrapper = document.getElementById('themeWrapper');
    const btn = document.getElementById('themeToggle');
    const body = document.body;

    const savedTheme = localStorage.getItem('theme') || 'light';

    wrapper.className = 'theme-wrapper ' + savedTheme;
    body.className = savedTheme;

    btn.textContent = savedTheme === 'dark' ? '‚òÄÔ∏è' : 'üåô';

    btn.onclick = () => {
        const newTheme = wrapper.classList.contains('light') ? 'dark' : 'light';

        wrapper.className = 'theme-wrapper ' + newTheme;
        body.className = newTheme;

        localStorage.setItem('theme', newTheme);
        btn.textContent = newTheme === 'dark' ? '‚òÄÔ∏è' : 'üåô';
    };
</script>

</body>
</html>
